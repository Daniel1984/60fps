!function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e){!function(){"use strict";window.GO={};var t=e("mithril");window.onload=function(){GO.url=CocoonJS.App.nativeExtensionObjectAvailable?"https://min60fps.herokuapp.com/fp_scores":"/fp_scores",t.module(document.body,e("./web/modules/new_leader"))}}()},{"./web/modules/new_leader":6,mithril:9}],2:[function(e,t){!function(){"use strict";var n=e("../models/leader");t.exports=function(){this.model=new n,this.model.getLeaderList(),this.onCancelClick=function(e){e.currentTarget.setAttribute("disabled",!0),e.currentTarget.innerHTML="loading...",CocoonJS.App.hide(),CocoonJS.App.enableTouchInCocoonJS()}}}()},{"../models/leader":4}],3:[function(e,t){!function(){"use strict";var n=e("../models/leader");t.exports=function(){this.model=new n,this.backToGame=function(t){t.currentTarget.setAttribute("disabled",!0),t.currentTarget.innerHTML="loading...",m.module(document.body,e("../modules/leader_list"))},this.submitLeader=function(e){e.currentTarget.setAttribute("disabled",!0),e.currentTarget.innerHTML="loading...",this.model.submitNewLeader()}}}()},{"../models/leader":4,"../modules/leader_list":5}],4:[function(e,t){!function(){"use strict";var n=e("mithril");t.exports=function(){var t=this;this.leaders=n.prop([]),this.nameError=n.prop("name can't be blank"),this.name=n.prop(""),this.submitNewLeader=function(){n.request({method:"POST",url:GO.url,data:{name:t.name(),score:score}}).then(function(){n.module(document.body,e("../modules/leader_list"))})},this.getLeaderList=function(){n.request({method:"GET",url:GO.url}).then(function(e){t.leaders(e),n.redraw()},function(){console.log(GO.url)})}}}()},{"../modules/leader_list":5,mithril:9}],5:[function(e,t){!function(){"use strict";t.exports={controller:e("../controllers/leader_list_ctrl"),view:function(t){return e("../views/leader_list")(t)}}}()},{"../controllers/leader_list_ctrl":2,"../views/leader_list":7}],6:[function(e,t){!function(){"use strict";t.exports={controller:e("../controllers/new_leader_ctrl"),view:function(t){return e("../views/new_leader")(t)}}}()},{"../controllers/new_leader_ctrl":3,"../views/new_leader":8}],7:[function(e,t){!function(){"use strict";t.exports=function(e){return m("div.page",[m("div.header.row-fluid",[m("div.container",[m("a.title",[m("img[src='../img/logo2.png']")])])]),m("div.body",[m("div.leaderboard.container",[m("h2","Flappy plane leaderboard"),m("h4","Top 100 scores:"),m("div.col-md-6.col-md-offset-3",[m("table.table.table-bordered",[m("tbody",e.model.leaders().map(function(e){return m("tr",[m("td",e.name),m("td",e.score)])})),m("tfoot",[m("tr",[m("td[colspan='2']",[m("button.btn.btn-default.btn-lg.btn-block",{onclick:e.onCancelClick.bind(e),ontouchend:e.onCancelClick.bind(e)},"Cancel")])])])])])])])])}}()},{}],8:[function(e,t){!function(){"use strict";t.exports=function(e){return m("div.page",[m("div.header.row-fluid",[m("div.container",[m("a.title[href='/']",[m("img[src='../img/logo2.png']")])])]),m("div.body",[m("div.score-addition.container",[m("h1","You scored:"),m("div.score",score),m("div.col-md-6.col-md-offset-3",[m("table.table.table-bordered",[m("tbody",[m("tr",[m("td.input-title","Enter your name and click submit:")]),m("tr",[m("td",[m("p.bg-danger.hide","ctrl.model.nameError()"),m("input.form-control.name-input[type='text'][maxlength='100'][placeholder='name']",{onkeyup:m.withAttr("value",e.model.name),value:e.model.name()}),m("button.btn.btn-default.btn-lg.btn-block",{ontouchend:e.submitLeader.bind(e),onclick:e.submitLeader.bind(e)},"Submit"),m("button.btn.btn-warning.btn-lg.btn-block",{ontouchend:e.backToGame.bind(e),onclick:e.backToGame.bind(e)},"Cancel")])])])])])])])])}}()},{}],9:[function(e,t){Mithril=m=new function n(e,t){function r(e){return{}.toString.call(e)}function o(e){return r(e)==R}function i(e){return r(e)==G}function a(e){return"function"==typeof e}function l(e){return r(e)==q}function u(){for(var e,t=Array.prototype.slice,n=t.call(arguments,0),a=(!(null==n[1]||!o(n[1])||"tag"in n[1]||"subtree"in n[1])),l=a?n[1]:{},u=("class"in l?"class":"className"),c={tag:"div",attrs:{}},d=[];e=B.exec(n[0]);)if(""==e[1])c.tag=e[2];else if("#"==e[1])c.attrs.id=e[2];else if("."==e[1])d.push(e[2]);else if("["==e[3][0]){var s=H.exec(e[3]);c.attrs[s[1]]=s[3]||(s[2]?"":!0)}d.length>0&&(c.attrs[u]=d.join(" "));var f=a?n[2]:n[1];c.children=i(f)||"[object Arguments]"==r(f)?t.call(f,0):n.slice(a?2:1);for(var m in l)c.attrs[m]=m==u?(c.attrs[m]||"")+" "+l[m]:l[m];return c}function c(n,o,u,f,p,g,v,b,y,w,x){if(null==p&&(p=""),"retain"===p.subtree)return g;var C=r(g),T=r(p);if(null==g||C!=T){if(null!=g)if(u&&u.nodes){var N=b-f,E=N+(T==G?p:g.nodes).length;s(u.nodes.slice(N,E),u.slice(N,E))}else g.nodes&&s(g.nodes,g);g=new p.constructor,g.tag&&(g={}),g.nodes=[]}if(T==G){p=h(p);for(var k=[],O=g.length===p.length,A=0,j=1,S=2,L=3,_={},M=[],q=!1,B=0;B<g.length;B++)g[B]&&g[B].attrs&&null!=g[B].attrs.key&&(q=!0,_[g[B].attrs.key]={action:j,index:B});if(q){for(var B=0;B<p.length;B++)if(p[B]&&p[B].attrs)if(null!=p[B].attrs.key){var H=p[B].attrs.key;_[H]=_[H]?{action:L,index:B,from:_[H].index,element:n.childNodes[_[H].index]||e.document.createElement("div")}:{action:S,index:B}}else M.push({index:B,element:n.childNodes[B]||e.document.createElement("div")});for(var D,I=Object.keys(_).map(function(e){return _[e]}),z=I.sort(function(e,t){return e.action-t.action||e.index-t.index}),K=g.slice(),B=0;D=z[B];B++){if(D.action==j&&(s(g[D.index].nodes,g[D.index]),K.splice(D.index,1)),D.action==S){var U=e.document.createElement("div");U.key=p[D.index].attrs.key,n.insertBefore(U,n.childNodes[D.index]),K.splice(D.index,0,{attrs:{key:p[D.index].attrs.key},nodes:[U]})}D.action==L&&(n.childNodes[D.index]!==D.element&&null!==D.element&&n.insertBefore(D.element,n.childNodes[D.index]),K[D.index]=g[D.from])}for(var B=0;B<M.length;B++){var D=M[B];n.insertBefore(D.element,n.childNodes[D.index]),K[D.index]=g[D.index]}g=K,g.nodes=[];for(var F,B=0;F=n.childNodes[B];B++)g.nodes.push(F)}for(var B=0,P=0;B<p.length;B++){var $=c(n,o,g,b,p[B],g[P],v,b+A||A,y,w,x);$!==t&&($.nodes.intact||(O=!1),A+=i($)?$.length:1,g[P++]=$)}if(!O){for(var B=0;B<p.length;B++)null!=g[B]&&(k=k.concat(g[B].nodes));for(var V,B=0;V=g.nodes[B];B++)null!=V.parentNode&&k.indexOf(V)<0&&s([V],[g[B]]);for(var V,B=g.nodes.length;V=k[B];B++)null==V.parentNode&&n.appendChild(V);p.length<g.length&&(g.length=p.length),g.nodes=k}}else if(null!=p&&T==R){if((p.tag!=g.tag||Object.keys(p.attrs).join()!=Object.keys(g.attrs).join()||p.attrs.id!=g.attrs.id)&&(s(g.nodes),g.configContext&&a(g.configContext.onunload)&&g.configContext.onunload()),!l(p.tag))return;var V,Y=0===g.nodes.length;if(p.attrs.xmlns?w=p.attrs.xmlns:"svg"===p.tag?w="http://www.w3.org/2000/svg":"math"===p.tag&&(w="http://www.w3.org/1998/Math/MathML"),Y?(V=w===t?e.document.createElement(p.tag):e.document.createElementNS(w,p.tag),g={tag:p.tag,children:c(V,p.tag,t,t,p.children,g.children,!0,0,p.attrs.contenteditable?V:y,w,x),attrs:d(V,p.tag,p.attrs,{},w),nodes:[V]},n.insertBefore(V,n.childNodes[b]||null)):(V=g.nodes[0],d(V,p.tag,p.attrs,g.attrs,w),g.children=c(V,p.tag,t,t,p.children,g.children,!1,0,p.attrs.contenteditable?V:y,w,x),g.nodes.intact=!0,v===!0&&null!=V&&n.insertBefore(V,n.childNodes[b]||null)),a(p.attrs.config)){var W=g.configContext=g.configContext||{},X=function(e,t){return function(){return e.attrs.config.apply(e,t)}};x.push(X(p,[V,!Y,W,g]))}}else if(!a(T)){var k;0===g.nodes.length?(p.$trusted?k=m(n,b,p):(k=[e.document.createTextNode(p)],n.nodeName.match(J)||n.insertBefore(k[0],n.childNodes[b]||null)),g="string number boolean".indexOf(typeof p)>-1?new p.constructor(p):p,g.nodes=k):g.valueOf()!==p.valueOf()||v===!0?(k=g.nodes,y&&y===e.document.activeElement||(p.$trusted?(s(k,g),k=m(n,b,p)):"textarea"===o?n.value=p:y?y.innerHTML=p:((1==k[0].nodeType||k.length>1)&&(s(g.nodes,g),k=[e.document.createTextNode(p)]),n.insertBefore(k[0],n.childNodes[b]||null),k[0].nodeValue=p)),g=new p.constructor(p),g.nodes=k):g.nodes.intact=!0}return g}function d(t,n,r,i,l){for(var u in r){var c=r[u],d=i[u];if(!(u in i)||d!==c){i[u]=c;try{if("config"===u)continue;if(a(c)&&0==u.indexOf("on"))t[u]=p(c,t);else if("style"===u&&o(c)){for(var s in c)(null==d||d[s]!==c[s])&&(t.style[s]=c[s]);for(var s in d)s in c||(t.style[s]="")}else null!=l?"href"===u?t.setAttributeNS("http://www.w3.org/1999/xlink","href",c):"className"===u?t.setAttribute("class",c):t.setAttribute(u,c):u in t&&"list"!=u&&"style"!=u&&"form"!=u?(t!==e.document.activeElement||"value"!=u)&&(t[u]=c):t.setAttribute(u,c)}catch(f){if(f.message.indexOf("Invalid argument")<0)throw f}}}return i}function s(e,t){for(var n=e.length-1;n>-1;n--)e[n]&&e[n].parentNode&&(e[n].parentNode.removeChild(e[n]),t=[].concat(t),t[n]&&f(t[n]));0!=e.length&&(e.length=0)}function f(e){if(e.configContext&&a(e.configContext.onunload)&&e.configContext.onunload(),e.children)if(i(e.children))for(var t=0;t<e.children.length;t++)f(e.children[t]);else e.children.tag&&f(e.children)}function m(t,n,r){var o=t.childNodes[n];if(o){var i=1!=o.nodeType,a=e.document.createElement("span");i?(t.insertBefore(a,o),a.insertAdjacentHTML("beforebegin",r),t.removeChild(a)):o.insertAdjacentHTML("beforebegin",r)}else t.insertAdjacentHTML("beforeend",r);for(var l=[];t.childNodes[n]!==o;)l.push(t.childNodes[n]),n++;return l}function h(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];i(r)?t.push.apply(t,h(r)):t.push(r)}return t}function p(e,t){return function(n){n=n||event,u.redraw.strategy("diff"),u.startComputation();try{return e.call(t,n)}finally{P||(P=-1),u.endComputation()}}}function g(e){var t=I.indexOf(e);return 0>t?I.push(e)-1:t}function v(e){var t=function(){return arguments.length&&(e=arguments[0]),e};return t.toJSON=function(){return e},t}function b(){for(var e=u.redraw.strategy(),t=0;t<K.length;t++)F[t]&&"none"!=e&&u.render(K[t],U[t].view(F[t]),"all"==e);V&&(V(),V=null),P=null,$=new Date,u.redraw.strategy("diff")}function y(e){return e.slice(Q[u.route.mode].length)}function w(e,t,n){et={};var r=n.indexOf("?");-1!==r&&(et=N(n.substr(r+1,n.length)),n=n.substr(0,r));for(var o in t){if(o==n)return u.module(e,t[o]),!0;var i=new RegExp("^"+o.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(i.test(n))return n.replace(i,function(){for(var n=o.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),i=0;i<n.length;i++)et[n[i].replace(/:|\./g,"")]=decodeURIComponent(r[i]);u.module(e,t[o])}),!0}}function x(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!=e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=e.currentTarget||this;u.route(t[u.route.mode].slice(Q[u.route.mode].length))}}function C(){"hash"!=u.route.mode&&e.location.hash?e.location.hash=e.location.hash:e.scrollTo(0,0)}function T(e,t){var n=[];for(var r in e){var i=t?t+"["+r+"]":r,a=e[r];n.push(o(a)?T(a,i):encodeURIComponent(i)+"="+encodeURIComponent(a))}return n.join("&")}function N(e){for(var t=e.split("&"),n={},r=0;r<t.length;r++){var o=t[r].split("=");n[E(o[0])]=o[1]?E(o[1]):1===o.length?!0:""}return n}function E(e){return decodeURIComponent(e.replace(/\+/g," "))}function k(e){var n=g(e);s(e.childNodes,z[n]),z[n]=t}function O(e){return prop=u.prop(),e.then(prop),prop.then=function(t,n){return O(e.then(t,n))},prop}function A(e,t){function n(e){m=e||s,p.map(function(e){m==d&&e.resolve(h)||e.reject(h)})}function r(e,t,n,r){if((o(h)||a(h))&&a(e))try{var i=0;e.call(h,function(e){i++||(h=e,t())},function(e){i++||(h=e,n())})}catch(l){u.deferred.onerror(l),h=l,n()}else r()}function i(){var o;try{o=h&&h.then}catch(s){return u.deferred.onerror(s),h=s,m=c,i()}r(o,function(){m=l,i()},function(){m=c,i()},function(){try{m==l&&a(e)?h=e(h):m==c&&a(t)&&(h=t(h),m=l)}catch(i){return u.deferred.onerror(i),h=i,n()}h==f?(h=TypeError(),n()):r(o,function(){n(d)},n,function(){n(m==l&&d)})})}var l=1,c=2,d=3,s=4,f=this,m=0,h=0,p=[];f.promise={},f.resolve=function(e){return m||(h=e,m=l,i()),this},f.reject=function(e){return m||(h=e,m=c,i()),this},f.promise.then=function(e,t){var n=new A(e,t);return m==d?n.resolve(h):m==s?n.reject(h):p.push(n),n.promise}}function j(e){return e}function S(t){if(!t.dataType||"jsonp"!==t.dataType.toLowerCase()){var n=new e.XMLHttpRequest;if(n.open(t.method,t.url,!0,t.user,t.password),n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?t.onload({type:"load",target:n}):t.onerror({type:"error",target:n}))},t.serialize==JSON.stringify&&t.data&&"GET"!=t.method&&n.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.deserialize==JSON.parse&&n.setRequestHeader("Accept","application/json, text/*"),a(t.config)){var r=t.config(n,t);null!=r&&(n=r)}return n.send("GET"!=t.method&&t.data?t.data:""),n}var o="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=e.document.createElement("script");e[o]=function(n){delete e[o],e.document.body.removeChild(i),t.onload({type:"load",target:{responseText:n}})},i.onerror=function(){return delete e[o],e.document.body.removeChild(i),t.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),!1},i.onload=function(){return!1},i.src=t.url+(t.url.indexOf("?")>0?"&":"?")+(t.callbackKey?t.callbackKey:"callback")+"="+o+"&"+T(t.data||{}),e.document.body.appendChild(i)}function L(e,t,n){return t&&Object.keys(t).length>0&&("GET"==e.method?e.url=e.url+(e.url.indexOf("?")<0?"?":"&")+T(t):e.data=n(t)),e}function _(e,t){var n=e.match(/:[a-z]\w+/gi);if(n&&t)for(var r=0;r<n.length;r++){var o=n[r].slice(1);e=e.replace(n[r],t[o]),delete t[o]}return e}var M,R="[object Object]",G="[object Array]",q="[object String]",B=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,H=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,J=/AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TR‌​ACK|WBR/,D={appendChild:function(n){M===t&&(M=e.document.createElement("html")),e.document.documentElement&&e.document.documentElement!==n?e.document.replaceChild(n,e.document.documentElement):e.document.appendChild(n),this.childNodes=e.document.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},I=[],z={};u.render=function(n,r,o){var i=[];if(!n)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var a=g(n),l=n==e.document,u=l||n==e.document.documentElement?D:n;l&&"html"!=r.tag&&(r={tag:"html",attrs:{},children:r}),z[a]===t&&s(u.childNodes),o===!0&&k(n),z[a]=c(u,null,t,t,r,z[a],!1,0,null,t,i);for(var d=0;d<i.length;d++)i[d]()},u.trust=function(e){return e=new String(e),e.$trusted=!0,e},u.prop=function(e){return(o(e)||a(e))&&null!==e&&a(e.then)?O(e):v(e)};var K=[],U=[],F=[],P=null,$=0,V=null,Y=16;u.module=function(e,t){var n=K.indexOf(e);0>n&&(n=K.length);var r=!1;if(F[n]&&a(F[n].onunload)){var o={preventDefault:function(){r=!0}};F[n].onunload(o)}return r?void 0:(u.redraw.strategy("all"),u.startComputation(),K[n]=e,U[n]=t,F[n]=new t.controller,u.endComputation(),F[n])},u.redraw=function(t){var n=e.cancelAnimationFrame||e.clearTimeout,r=e.requestAnimationFrame||e.setTimeout;P&&t!==!0?(new Date-$>Y||r==e.requestAnimationFrame)&&(P>0&&n(P),P=r(b,Y)):(b(),P=r(function(){P=null},Y))},u.redraw.strategy=u.prop();var W=0;u.startComputation=function(){W++},u.endComputation=function(){W=Math.max(W-1,0),0==W&&u.redraw()},u.withAttr=function(e,t){return function(n){n=n||event;var r=n.currentTarget||this;t(e in r?r[e]:r.getAttribute(e))}};var X,Q={pathname:"",hash:"#",search:"?"},Z=function(){},et={};return u.route=function(){if(0===arguments.length)return X;if(3===arguments.length&&l(arguments[1])){var t=arguments[0],n=arguments[1],r=arguments[2];Z=function(e){var o=X=y(e);w(t,r,o)||u.route(n,!0)};var i="hash"==u.route.mode?"onhashchange":"onpopstate";e[i]=function(){X!=y(e.location[u.route.mode])&&Z(e.location[u.route.mode])},V=C,e[i]()}else if(arguments[0].addEventListener){var a=arguments[0],c=arguments[1],d=arguments[2];c||(d.href=a.getAttribute("href"),a.href=e.location.pathname+Q[u.route.mode]+d.href,a.removeEventListener("click",x),a.addEventListener("click",x))}else if(l(arguments[0])){X=arguments[0];var s=o(arguments[1])?T(arguments[1]):null;s&&(X+=(-1===X.indexOf("?")?"?":"&")+s);var f=(3==arguments.length?arguments[2]:arguments[1])===!0;e.history.pushState?(V=function(){e.history[f?"replaceState":"pushState"](null,e.document.title,Q[u.route.mode]+X),C()},Z(Q[u.route.mode]+X)):e.location[u.route.mode]=X}},u.route.param=function(e){return et[e]},u.route.mode="search",u.deferred=function(){var e=new A;return e.promise=O(e.promise),e},u.deferred.onerror=function(e){if("[object Error]"==r(e)&&!e.constructor.toString().match(/ Error/))throw e},u.sync=function(e){function t(e,t){return function(a){return i[e]=a,t||(n="reject"),0==--o&&(r.promise(i),r[n](i)),a}}var n="resolve",r=u.deferred(),o=e.length,i=new Array(o);if(e.length>0)for(var a=0;a<e.length;a++)e[a].then(t(a,!0),t(a,!1));else r.resolve();return r.promise},u.request=function(e){e.background!==!0&&u.startComputation();var t=u.deferred(),n=e.dataType&&"jsonp"===e.dataType.toLowerCase(),r=e.serialize=n?j:e.serialize||JSON.stringify,o=e.deserialize=n?j:e.deserialize||JSON.parse,a=e.extract||function(e){return 0===e.responseText.length&&o===JSON.parse?null:e.responseText};return e.url=_(e.url,e.data),e=L(e,e.data,r),e.onload=e.onerror=function(n){try{n=n||event;var r=("load"==n.type?e.unwrapSuccess:e.unwrapError)||j,l=r(o(a(n.target,e)));if("load"==n.type)if(i(l)&&e.type)for(var c=0;c<l.length;c++)l[c]=new e.type(l[c]);else e.type&&(l=new e.type(l));t["load"==n.type?"resolve":"reject"](l)}catch(n){u.deferred.onerror(n),t.reject(n)}e.background!==!0&&u.endComputation()},S(e),t.promise},u.deps=function(t){return e=t},u.deps.factory=n,u}("undefined"!=typeof window?window:{}),"undefined"!=typeof t&&null!==t&&(t.exports=m),"function"==typeof define&&define.amd&&define(function(){return m})},{}]},{},[1]);